<HTML>
<HEAD>

<TITLE>
SPARC-HOWTO.
</TITLE>
<link rel="stylesheet" href="../bookstyle.css"></HEAD>
<BODY BGCOLOR=white>

<HR>
<H1>SPARC-HOWTO.</H1>

<H2>Lionel, trollhunter Bouchpan-Lerust-Ju&eacute;ry
 
<A HREF="mailto:trollhunter@linuxfr.org">&lt;trollhunter@linuxfr.org&gt;</A>
      </H2>v0.0.7 August 2004
<P><HR>
<EM>The SPARC family of microprocessors is a very good implementation of the RISC design and SPARC based computing devices cover a very wide
spectrum of applications, from mainframe class computers to radhard
microprocessors used by the aerospace industry in its space segment.
SPARC based computers are usually very well engineered products,
thus Linux on SPARC is a winning combination both in performance and ease of use. Actually this combination is not as widspread as the Linux/x86; this HOWTO
should help you step by step to make an informed decision: try it you will not
regret it.</EM>
<HR>
<P>
<H2><A NAME="toc1">1.</A> <A HREF="#s1">Preface.</A></H2>

<UL>
<LI><A HREF="#ss1.1">1.1 Translations.</A>
</UL>
<P>
<H2><A NAME="toc2">2.</A> <A HREF="#s2">SPARC, which one ?</A></H2>

<UL>
<LI><A HREF="#ss2.1">2.1 Sun SPARC</A>
<LI><A HREF="#ss2.2">2.2 Super SPARC</A>
<LI><A HREF="#ss2.3">2.3 Micro SPARC</A>
<LI><A HREF="#ss2.4">2.4 Hyper SPARC</A>
<LI><A HREF="#ss2.5">2.5 ERC32</A>
<LI><A HREF="#ss2.6">2.6 LEON</A>
<LI><A HREF="#ss2.7">2.7 Ultra SPARC</A>
<LI><A HREF="#ss2.8">2.8 SPARC64 V</A>
<LI><A HREF="#ss2.9">2.9 Deciphering the CPUs</A>
<LI><A HREF="#ss2.10">2.10 The javastation.</A>
</UL>
<P>
<H2><A NAME="toc3">3.</A> <A HREF="#s3">Buying a SPARC computer.</A></H2>

<UL>
<LI><A HREF="#ss3.1">3.1 Gaigning a visual familiarity with SPARC hardware</A>
<LI><A HREF="#ss3.2">3.2 Sun made hardware or clones ?</A>
<LI><A HREF="#ss3.3">3.3 Where to buy.</A>
<LI><A HREF="#ss3.4">3.4 Checklist</A>
</UL>
<P>
<H2><A NAME="toc4">4.</A> <A HREF="#s4">SPARC based laptops</A></H2>

<P>
<H2><A NAME="toc5">5.</A> <A HREF="#s5">The wonderful SparcStation Voyager</A></H2>

<P>
<H2><A NAME="toc6">6.</A> <A HREF="#s6">Sun's Netra servers</A></H2>

<P>
<H2><A NAME="toc7">7.</A> <A HREF="#s7">Sun's Enterprise servers</A></H2>

<P>
<H2><A NAME="toc8">8.</A> <A HREF="#s8">Tatung's Workstations</A></H2>

<P>
<H2><A NAME="toc9">9.</A> <A HREF="#s9">Tatung's SPARC Servers</A></H2>

<P>
<H2><A NAME="toc10">10.</A> <A HREF="#s10">Fujitsu's supercomputers</A></H2>

<P>
<H2><A NAME="toc11">11.</A> <A HREF="#s11">Linux on SPARC: 2 kernels.</A></H2>

<P>
<H2><A NAME="toc12">12.</A> <A HREF="#s12">Choosing a distribution.</A></H2>

<UL>
<LI><A HREF="#ss12.1">12.1 Aurora SPARC Linux</A>
<LI><A HREF="#ss12.2">12.2 Debian GNU/Linux.</A>
<LI><A HREF="#ss12.3">12.3 Gentoo</A>
<LI><A HREF="#ss12.4">12.4 PLD.</A>
<LI><A HREF="#ss12.5">12.5 RedHat Linux.</A>
<LI><A HREF="#ss12.6">12.6 Slackware</A>
<LI><A HREF="#ss12.7">12.7 SLXT</A>
<LI><A HREF="#ss12.8">12.8 Linux Terminal Server Project</A>
<LI><A HREF="#ss12.9">12.9 SplackLinux</A>
<LI><A HREF="#ss12.10">12.10 SuSE Linux.</A>
<LI><A HREF="#ss12.11">12.11 Vine Linux</A>
</UL>
<P>
<H2><A NAME="toc13">13.</A> <A HREF="#s13">Installing Linux</A></H2>

<P>
<H2><A NAME="toc14">14.</A> <A HREF="#s14">Working with the Openboot.</A></H2>

<UL>
<LI><A HREF="#ss14.1">14.1 What is the OpenBoot?</A>
<LI><A HREF="#ss14.2">14.2 Diagnostics commands.</A>
<LI><A HREF="#ss14.3">14.3 Boot commands.</A>
<LI><A HREF="#ss14.4">14.4 Misc commands.</A>
</UL>
<P>
<H2><A NAME="toc15">15.</A> <A HREF="#s15">Hard drive buses.</A></H2>

<UL>
<LI><A HREF="#ss15.1">15.1 SCSI-SCA.</A>
<LI><A HREF="#ss15.2">15.2 EIDE.</A>
<LI><A HREF="#ss15.3">15.3 FC-AL</A>
</UL>
<P>
<H2><A NAME="toc16">16.</A> <A HREF="#s16">CDROM: specific settings.</A></H2>

<P>
<H2><A NAME="toc17">17.</A> <A HREF="#s17">SILO.</A></H2>

<P>
<H2><A NAME="toc18">18.</A> <A HREF="#s18">Compiling a kernel</A></H2>

<P>
<H2><A NAME="toc19">19.</A> <A HREF="#s19">Keyboard and mouse.</A></H2>

<P>
<H2><A NAME="toc20">20.</A> <A HREF="#s20">X Window.</A></H2>

<P>
<H2><A NAME="toc21">21.</A> <A HREF="#s21">SMP.</A></H2>

<P>
<H2><A NAME="toc22">22.</A> <A HREF="#s22">The sound.</A></H2>

<P>
<H2><A NAME="toc23">23.</A> <A HREF="#s23">Serial port.</A></H2>

<P>
<H2><A NAME="toc24">24.</A> <A HREF="#s24">Ressources.</A></H2>

<UL>
<LI><A HREF="#ss24.1">24.1 Information sites.</A>
<LI><A HREF="#ss24.2">24.2 Auction sites.</A>
<LI><A HREF="#ss24.3">24.3 A Good  Provider based in France</A>
</UL>
<P>
<H2><A NAME="toc25">25.</A> <A HREF="#s25">Thanks and Credits.</A></H2>

<UL>
<LI><A HREF="#ss25.1">25.1 Thanks.</A>
<LI><A HREF="#ss25.2">25.2 Credits.</A>
</UL>
<P>
<H2><A NAME="toc26">26.</A> <A HREF="#s26">Copyright, Disclaimer and Trademarks</A></H2>

<UL>
<LI><A HREF="#ss26.1">26.1 Copyright.</A>
<LI><A HREF="#ss26.2">26.2 Administrativia.</A>
</UL>
<P>
<H2><A NAME="toc27">27.</A> <A HREF="#s27">Revision History.</A></H2>

<HR>
<H2><A NAME="s1">1.</A> <A HREF="#toc1">Preface.</A></H2>

<P>This document is a step by step guide meant to 
provide information in order 
to help you running Linux on SPARC based computers,
As these computers are quite different from PCs 
an  hardware section will provide you with the needed information in
order to understand how they work and what can be expected from the
various CPUs and models.
<P>I am not a SPARC specialist, nor a Solaris or Linux guru, I am just
someone who is realy found of well engineered products, and  wish to
help you in choosing your hardware and finding information. Thus I
have tried to write down this document in order to ease your path.
<P> 
I hope this HOWTO will help you and you will have a lot of fun
with your SPARC Computer.
<P>
<H2><A NAME="ss1.1">1.1 Translations.</A>
</H2>

<P>Kim Hyun-Gyu 
<A HREF="mailto:babyworm@atlas.korea.ac.kr">&lt;babyworm@atlas.korea.ac.kr&gt;</A>
provide a Korean translation. You can read it online at 
<A HREF="http://kldp.org/HOWTO/html/SPARC-HOWTO/">http://kldp.org/HOWTO/html/SPARC-HOWTO/</A><P>
<HR>
<H2><A NAME="s2">2.</A> <A HREF="#toc2">SPARC, which one ?</A></H2>

<P>This document deals only with SPARC based 
computers, in order to check, just
type <CODE>uname -m</CODE> command and you should read
something like <CODE>sparc4x</CODE> where x is blank,c,d,m,u
if the system runs Solaris, or <CODE>sparc</CODE> for 32 bits SPARC architectures
and <CODE>sparc64</CODE> for 64 bits SPARC architectures if it runs Linux.
2.x.y
<P>
<P>
<P>SPARC stands for Scalable Processor ARChitecture,
it derives from research done between 1984-1988 
on the  RISC architecture at UC Berkeley.
It exists 3 versions of this archiecture, SPARC-V7, SPARC-V8 
(32 bits) and SPARC-V9 (64 bits).
As you  are likely to encounter a lot of implementations of
the SPARC architecture, in the next section,  the main features
of theses processors are summarized.
<P>
<H2><A NAME="ss2.1">2.1 Sun SPARC</A>
</H2>

<P>This is quite obsolete, it is an implementation of the 
SPARC-V7 ; its main feature are an Integer unit (IU), an external Floating Point Unit (FPU),
an unified data + instruction 64KB direct associative cache, and an Memory Managment Unit (MMU).
There is a 4 stage pipeline for the integer instructions 
(fetch F, decode D, exec E, update WB)
FPU and IU are synchronized.
<P>
<H2><A NAME="ss2.2">2.2 Super SPARC</A>
</H2>

<P>This is Texas Instrument and Sun's brainchild, it is usualy found at around 50Mhz clok rates
featuring up to 1MB of L2 cache, it is available both as single and dual processor modules 
(SparcStation 10 and SparcStation 20). The higher clock frequency I
have encountered so far is 60Mhz.
<P>On a technical point of view this is a SPARC-V8 implementation,
it is a superscalar processor,
having 2 caches, one for instruction the other one for data. 
<UL>
<LI>The 20kB instruction cache is a 5 way associative.</LI>
<LI>The 16KB data cache is 4 way associative. </LI>
</UL>
<P>
<H2><A NAME="ss2.3">2.3 Micro SPARC</A>
</H2>

<P>This is once again Texas Instrument and Sun's brainchild, it can be found
in the SparcStation Classic, SparcStation LX, at frequency up to
50Mhz. Its derivative, the Micro SPARC II can be found in the SparcStation
4 and SparcStation 5 at frequencies up to 110Mhz.
<P>On a technical point of view, its main features are a high level of
integration, having 2 caches, one for instructions, the other one for
data.
<P>
<UL>
<LI>A 4KB instruction direct associative cache.</LI>
<LI>A 2KB data direct associative cache.</LI>
</UL>
 
<P>It is not possible to add an L2 cache.
If you wish to learn more about the MicroSPARC processor you can browse
Sun's 
<A HREF="http://www.sun.com/processors/index.html"> Ultra SPARC</A> ressources. 
<P>
<H2><A NAME="ss2.4">2.4 Hyper SPARC</A>
</H2>

<P>This processor was introduced by ROSS in 1993, it is usualy found in the 
SparcStation 10, and SparcStation 20, at frequencies up to 150Mhz 
(I have heard of 200Mhz dual processor modules, but Have not
witnessed one yet). It can be found on single or dual
processor modules.
<P> 
On a technical point of view it is an implementation of the SPARC-V8,
it is superscalar. It can be found with L2 cache up to 512KB
<P>
<H2><A NAME="ss2.5">2.5 ERC32</A>
</H2>

<P>This is a radhard SPARC V7 microprocessor designed to be used on the
space segment.
<P>It comes as a single unit or as a three chip 
package. Main manufacturer is  <CODE>ATMEL</CODE> in Nantes,
France. At least, one software vendor claims to have GNU/Linux running
on this CPU, this is for the 
<P>
<A HREF="http://dse.cyberclwn.com/sparc-rtems-erc32.htm">http://dse.cyberclwn.com/sparc-rtems-erc32.htm</A>. This project
has not been updated since March 2001. As I have not had the
opportunity to check this claim. I am more than doubtful.
<P>
<H2><A NAME="ss2.6">2.6 LEON</A>
</H2>

<P>This is also a radhard implementation of the SPARC V8 designed to be
used on the space segment. It is the ESA's brainchild and the lead
designer is jiri gaisler. 
More information can be found on LEON's website:
<A HREF="http://www.gaisler.com/leonmain.html">http://www.gaisler.com/leonmain.html</A><P>The 2.4 and 2.5 kernel series are not yet supported, however the 2.0 kernel
series is supported by the <CODE>uClinux</CODE> MMU less
GNU/Linux distribution. 
This distribution has been built at ESA/ESTEC December 26 2003
on a SuSE 8.0 GNU/Linux distribution
with gcc version 2.95.3 20010315 and a 2.4.18 kernel.
Hereafter is the boot sequence and a sample session inside the
tsim-leon simulator.
<HR>
<PRE>

piou@linux:~/uClinux-dist/images> ./tsim-leon -nfp image.elf

 TSIM/LEON SPARC simulator, version 1.1.4a (evaluation version)

 Copyright (C) 2001, Gaisler Research - all rights reserved.
 This software may only be used with a valid license.
 For latest updates, go to http://www.gaisler.com/
 Comments or bug-reports to tsim@gaisler.com

FPU disabled
serial port A on stdin/stdout
allocated 4096 K RAM memory, in 1 bank(s)
allocated 2048 K ROM memory
icache: 1 * 4 kbytes, 16 bytes/line (4 kbytes total)
dcache: 1 * 4 kbytes, 16 bytes/line (4 kbytes total)
section: .text at 0x0, size 252944 bytes
section: .data at 0x40000000, size 38452 bytes
section: .romfs at 0x3dc10, size 67584 bytes
tsim> g
resuming at 0x00000000
aCDG512k RAM

Found my key

Moved .data

Found my key



uClinux/Sparc
Flat model support (C) 1998-2000 Kenneth Albanowski, D. Jeff Dionne
LEON-2.1 Sparc V8 support (C) 2000 D. Jeff Dionne, Lineo Inc.
LEON-2.2/LEON-2.3 Sparc V8 support (C) 2001 The LEOX team &lt;team@leox.org>.
Calibrating delay loop.. ok - 6.68 BogoMIPS
Memory available: 3904k/4080k RAM, 0k/0k ROM (176k kernel data, 247k code)
Swansea University Computer Society NET3.035 for Linux 2.0
NET3: Unix domain sockets 0.13 for Linux NET3.035.
uClinux version 2.0.39.uc2 (root@linux) (gcc version 2.95.3 20010315 (release)) 6 Thu Dec 26 18:28:01 PST 2002
LEON serial driver version 0.9
ttyS0 (irq = 3) is a builtin LEON UART
Blkmem copyright 1998,1999 D. Jeff Dionne
Blkmem copyright 1998 Kenneth Albanowski
Blkmem 1 disk images:
0: 3DC10-4E40F (RO)
VFS: Mounted root (romfs filesystem) readonly.

Sash command shell (version 1.1.1)
/> pwd
/
/> cd bin
/bin> pwd
/bin
/bin> ls
sh
/bin>
</PRE>
<HR>
<H2><A NAME="ss2.7">2.7 Ultra SPARC</A>
</H2>

<P>The Ultra SPARC processor is an extension of the SPARC-V9
architecture, it is a 64 bits processor, it features some video
processing instructions. It is found in all the computer whose name
start with Ultra.
<P>The Ultra SPARC II is an improvement of the Ultra SPARC, the 
Ultra SPARCIII is actually the second generation of Ultra SPARC
processors, it was first introduced in the SunBlade 1000 Workstation.
If wish to learn more about the UltraSPARC processors you can browse
Sun's 
<A HREF="http://www.sun.com/processors/index.html"> Ultra SPARC</A> ressources. 
<P>
<H2><A NAME="ss2.8">2.8 SPARC64 V</A>
</H2>

<P>
<P>This processor is based on the SPARC V9 and is made by Fujitsu
It is a 64bits CPU with some very interesting error handling features such as
ECC memory for
the L1 cache, hardware instruction retry, error classification.
<P>There is a 64 bit virtual address space and 43 bit physical address space. 
It is used in the PRIMEPOWER high end servers to mainframe class of Fujitsu's 
offering.
<P>The cache is organized as :
<UL>
<LI>A 128kB 2 way associative L1 instruction cache</LI>
<LI>A 128kB 2 way associative L1 data cache</LI>
<LI>A 2MB unified 4 way associative L2 cache</LI>
</UL>
<P>More information can be found on the 
<A HREF="http://www.fujitsu.com/downloads/PRMPWR/JPS1-R1.0-SPARC64V-pub.pdf">http://www.fujitsu.com/downloads/PRMPWR/JPS1-R1.0-SPARC64V-pub.pdf</A>
whitepaper.
<P>You may read the
<A HREF="http://tldp.org/HOWTO/CPU-Design-HOWTO.html">CPU-Design-HOWTO</A>, this HOWTO has a lot of interesting links
when it comes to studying the CPUs.
<P>To summarize, the 32 bits workstations are the:
<UL>
<LI>The sun4 workstation is the 
sun4/330 model.</LI>
<LI>The sun4c workstations are the
SparcStation 1,2, IPC and IPX models.</LI>
<LI>The sun4m workstations are the 
SparcStation 5, 10 and 20. </LI>
</UL>

Only the SparcStation 10 and SparcStation 20 are SMP
capable: up to 2 CPU modules.
<P>For more information on the SparcStation 5, 10, 20
you can read Sun's
<A HREF="http://docs.sun.com/"> documentation </A>online or download it available.
<P>The following model have an 64 bits UltraSPARC
architecture (sun4u).
SunUltra 1, 2, 5, 10, 30, 60, 80 and SunBlade 1000, 1500, 2000.
The SunUltra 2, 60, 80 and SunBlade 1000 are SMP capable, 
with the Ultra 80 and SunBlade 1000 and 2000 accepting up to 4 CPU modules, 
the SunUltra 2 and 60 accepting only 2 CPU modules.
<P>The SunBlade 2000 is the latest one featuring Sun's latest marvel
the Ultra III CPU, at a premium price of course.
You can have a summary of the UltraWorkstation still in production
at 
<A HREF="http://www.sun.com/desktop/products/">Sun's</A> website.
<P>A lot of information has been compiled in 
the 
<A HREF="http://www.lysator.liu.se/local/datorhandbok/SunHardwareFAQ.html">Sun hardware reference</A> that is found on many sites,  
or on 
<A HREF="http://www.sunhelp.org/info-ref.php">SunHelp</A> 's  website.
<P>
<H2><A NAME="ss2.9">2.9 Deciphering the CPUs</A>
</H2>

<P>At first, a reference like SM61 or RT-200-D-125/512 seems 
to be, to say the least, quite cryptic.
Actually, understanding theses references is really easy.
<P>
<H3>Ross Technology.</H3>

<P>Theses CPUs's naming scheme is <CODE>RT-a00-b-freq/cache</CODE>
where 
<UL>
<LI><CODE>a</CODE> is a digit:
<UL>
<LI><CODE>1</CODE> SparcStation 10.</LI>
<LI><CODE>2</CODE> SparcStation 20.</LI>
<LI><CODE>6</CODE> SPARC MP600 ( not exactly a workstation ).</LI>
</UL>
</LI>
<LI><CODE>b</CODE> is a letter:
<UL>
<LI><CODE>D</CODE> Dual CPU.</LI>
<LI><CODE>Q</CODE> Quad CPU.</LI>
<LI><CODE>S</CODE> Single CPU.</LI>
</UL>
</LI>
<LI><CODE>freq</CODE> The frequency expressed in Megahertz.</LI>
<LI><CODE>cache</CODE> The amount of cache memory expressed in Kilobytes.</LI>
</UL>
<P>When these modules are in a workstation the naming convention is 
HSxy, for example <CODE>ywing</CODE> is a SparcStation 20 HS22,
thus it is easier to have a look inside the workstation.
<H3>SM modules.</H3>

<P>This table is extracted from the 
<A HREF="http://faqaboss.sunhelp.org/">FAQABOSS</A>
<HR>
<PRE>
Name  Speed( MHz )  Cache( MB ) Number of    SuperSparc 
                                 Processors   Series

SM20       33            0            1          I
SM30       36            0            1          I
SM40       40            0            1          I
SM41       40            1            1          I
SM50       50            0            1          I
SM51       50            1            1          I
SM512      50            1            2          I
SM51-2     50            2            1          I
SM61       60            1            1          I
SM61-2     60            2            1          I
SM71       75            1            1          II
SM71-2     75            2            1          II
SM81       85            1            1          II
SM81-5     85            2            1          II
</PRE>
<HR>
<P>Warning: the <CODE>SM100</CODE> is a <CODE>RT-600-D-40</CODE>
<P>
<P>
<H3>Cypress.</H3>

<P>Cypress manufactured SPARC compliants processors;
AFAIK their naming scheme is CYnnn. 
<P>As you can see, this is easy to understand.
<P>
<H2><A NAME="ss2.10">2.10 The javastation.</A>
</H2>

<P>This is a family of Network computers that used to be manufactured by Sun,
there is a very good 
<A HREF="http://tldp.org/HOWTO/JavaStation-HOWTO/">JavaStation-HOWTO</A> about it.
<P>
<HR>
<H2><A NAME="s3">3.</A> <A HREF="#toc3">Buying a SPARC computer.</A></H2>

<P>
<P>You have decided to buy a SPARC based computer, now you 
can tell what CPU each model sports, but can you tell how that
particuliar model looks like? How its is inside? 
<P>Do not worry, this section will help you on that topic as well as 
providing you with some hints on how to inspect and test the hardware. 
<P>
<H2><A NAME="ss3.1">3.1 Gaigning a visual familiarity with SPARC hardware</A>
</H2>

<P> 
PC hardware is everywhere and usualy one is quite 
familiar with it, this is not exactly the case with SPARC based hardware,
even more when it comes to the innards of a computer. The good news
is that it exists some sites on the web, where you can find pictures
of Sun hardware, with some very detailed shots, thus you should be
able to instantly identify the model and its condition prior to buy it.
The two main site where I usualy go are:
<UL>
<LI> 
<A HREF="http://www.sun.com/">sun </A>In Sun's database, you can find technical data as well as 
picture of some of Sun's product, the pictures are crisp, and the
hardware is always at its best, this is technicaly interesting, in
order to compare brand new hardware and the used one that is usualy 
featured on the two sites below.</LI>
<LI> 
<A HREF="http://www.black-cube.net/Sun/">HAL</A> This site features very detailed pictures of a lot of
hardware, from CPU modules to Servers, even mice. </LI>
<LI>
<A HREF="http://www.obsolyte.com/sunPICS/">obsolyte</A> This site has different pictures, it is very useful too.</LI>
</UL>
<P>
<H2><A NAME="ss3.2">3.2 Sun made hardware or clones ?</A>
</H2>

<P>On the one hand, it is very easy to find information on Sun hardware, while it can be
difficult to find it for clone systems on the other hand it should be
more fun to work with exotic hardware.
<P>Clone systems have been or are still manufactured, at least by:
<UL>
<LI>Fujitsu.</LI>
<LI>Toshiba</LI>
<LI>Ross</LI>
<LI>Tadpole/RDI manufactures SPARC based laptops.</LI>
<LI>
<A HREF="http://www.tsti.com">Tatung</A> is still in the market and sells SBus, PCI cards, and
of course systems up to the UltraSPARC III based 2U and 4U servers.
For more information about tatung's COMPServer and COMPStations, please read
the Tatung's Workstations and Servers sections of this document.
</LI>
<LI>Toshiba, used to manufacture SPARC based laptops:
The AS1000.
</LI>
</UL>
<H2><A NAME="ss3.3">3.3 Where to buy.</A>
</H2>

<P>Of course if you buy first hand hardware everything should be fine, 
but if you decide to go for second hand hardware, you will have to
decide how you want to buy it, and you should be able to test it by yourself.
<P>Second hand hardware can be brought from Sun as 
refurbished hardware, at auction websites, or in
specialised stores, or directly from companys that upgrade their
hardware.
<P>
<H2><A NAME="ss3.4">3.4 Checklist</A>
</H2>

<P>When it comes to second hand hardware one has to be as cautious as
possible about the source, and the condition  of that hardware.
<P>For the source of the hardware, if you can track it, it is a very good
point. If you can't track it, it is up to you to decide if you trust
the seller or not ( If the seller cannot give you the reference of the
hardwre and if, obviously he/she is clueless about Sun hardware, you
should switch to condition red ).
<P>Another interesting point is to see if check is accepted as a
payement.
<P>If you can check the hardware before buying it
then first have a general look at it, search for
cracks, for stains; check the connector's pin. If this first
inspection is OK, then ask to see the inside, look for spills, watch
carefuly the connectors, then if it is OK ask to see it running, 
watch carefully boot messages, issue the <CODE>dmesg|more</CODE> 
or if it runs Solaris you can issue the <CODE>more /var/adm/messages</CODE> command,
and also very important listen to your computer, do you hear unusual 
noises? Does it smell OK?. Then enter the OpenBoot by the
<CODE>stop+a</CODE> command and run some tests ( see the OpenBoot section
).
When you have decided to purchase it, it is very important that you
always make sure that the computer you are purchasing is the one
you have tested: always keep an eye on it, do not let someone go to
the backoffice with it for example, do not accept to leave without
your computer.
<P>Then, when you are at home, recheck it as if it was the first time you
see it. 
If it comes with CDROM drive, try to mount/umount a few CDs 
and read them in order to check that device. If there is a floppy disk
read/write/format a few floppys, this should be a good test.
<P>
<P>
<P>Of course, it exists tools to automaticaly test the hardware, but 
usualy you do not have them when you need them, thus the script
below relies only on ressources provided by a Linux base system.
<P>
<P>You should run the following script for three days, basicaly it
is going to use the CDROM, floppy and hard drive, and to reboot 
the computer every 3 hours. This should stress it, 
<P>
<P>
<HR>
<PRE>
#
# Enter this in the crontab(5)
# run the torture.sh script every 3 hours if possible
#
0 */3 * * * /root/torture.sh
</PRE>
<HR>

Where <CODE>torture.sh</CODE> is 
<HR>
<PRE>
#!/bin/sh

# 
# these are for controlling the loops
# the CDLIMITS and FDLIMITS
# are for the CD and FD loops
# 
CPT=1
CDLIMIT=3
FDLIMIT=10

#
# to which devices are
# CDROM and floppy attached
#
CDROM=/dev/sr0
FLOPPY=/dev/fd0

#
# where is the program we
# intend to compile

PATH=/path_to_big_package_to_compile

#
# this section si meant to 
# test the CDROM and floppy drives
# comment what you do not need to
# test

while [ $CPT -le $CDLIMIT ]
do
 #
 # CDROM drive
 #
 
 mount -rt iso9660 $CDROM /cdrom
 find /cdrom -exec cat {} \; >>/dev/null 2>&amp;1
 umount /cdrom
 CPT=$(($CPT+1))
done
 
 #
 # floppy drive
 #
CPT=1
while [ $CPT -le $FDLIMIT ]
do
 mke2fs -c $FLOPPY >/dev/null 2>&amp;1
 mount -t ext2 $FLOPPY /floppy
 cd /bin/
 cp dd ps echo sh /floppy
 find /floppy -exec cat {} \; >>/dev/null 2>&amp;1 
 umount /floppy
 CPT=$(($CPT+1))
done


#
# The big, intensive 
# compilation
# 

cd $PATH

# 
# now compile
#
make


# 
#
# we remove every .a .o .s and every executable
#

find $PATH -name "*.[aos]" -exec rm -f {} \; >/dev/null 2>&amp;1
find $PATH -exec test -x {} \; -exec rm -f {} \; >/dev/null 2>&amp;1

#
# time to reboot
#
reboot 
</PRE>
<HR>
<P>Of course you should run this script manualy once in order to know how
much time it requires to complete, this is just an idea on how to
automate things.
<P>
<HR>
<H2><A NAME="s4">4.</A> <A HREF="#toc4">SPARC based laptops</A></H2>

<P>
<P>There exists SPARC based, laptops.
<P>They are not very widespread but, they are actually very good SPARC workstations. 
<UL>
<LI>SparcBook 1:</LI>
<LI>SparcBook 2:</LI>
<LI>Tadpole SparcBook 3GX: 
This is a 100Mhz MicroSPARC II (TI) with a Weitek P9100 frame buffer and a screen resolution of 800x600.
GNU/Linux runs on it 
The PCMCIA, internal modem and power management are not supported at the time 
of this writing.
</LI>
</UL>

For more information about the SPARCBooks there exists a SPARCBook FAQ, you can read it at
<A HREF="http://hvdkooij.xs4all.nl/docs/SparcBook-FAQ.html">http://hvdkooij.xs4all.nl/docs/SparcBook-FAQ.html</A><P>There exists a <CODE>Linux Mobile Guide</CODE> that provides you with the needed
informations about GNU/Linux on laptops.
You can read it there:
<A HREF="http://www.tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html">http://www.tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html</A><P>Today there are some manufacturers of SPARC based laptops.
You can access their websites at 
<UL>
<LI>Tadpole: 
<A HREF="http://www.tadpolecomputer.com/html/">http://www.tadpolecomputer.com/html/</A></LI>
<LI>Nextcomputing:
<A HREF="http://www.nextcomputing.com">http://www.nextcomputing.com</A>
At least one of their laptops, the NextBlade 150 is advertised as being
capable to run both
Solaris and the RedHat GNU/Linux.</LI>
</UL>
<P>
<HR>
<H2><A NAME="s5">5.</A> <A HREF="#toc5">The wonderful SparcStation Voyager</A></H2>

<P>
<P>Nearly ten years ago in 1994, Sun microsystems introduced the SPARCStation
Voyager 
(ss240).
This computer was a Sun4m architecture, powered by a microSPARC II processor.
It is a very compact computer, behing a hybrid between a desktop and a Laptop.
It has the footprint of a very compact workstation with a builtin color LCD
display, PCMCIA and InfraRed ports with a 2"5 SCSI harddrive.
I have seen one at the CCC in Berlin, runing Debian GNU/Linux but the InfraRed and 
PCMCIA ports are not supported.
Its datasheet is actually very impressive:
<P>
<UL>
<LI>60 Mhz microSPARC</LI>
<LI>up to 80MB RAM</LI>
<LI>up to 810MB fast SCSI 2 Harddrive</LI>
<LI>5.5 by 14.5 footprint</LI>
<LI>12" 1024x768x8 color LCD or 14" monochrome or 14" 
display in 1152x900</LI>
<LI>Ethernet 10                                                                                                                                                                                                     display</LI>
<LI>storage temperature -25C to 60C</LI>
<LI>operating temperature 0C to 40C
</LI>
</UL>
<P>More information about this computer can be found on Sun's website at:
<P>
<HR>
<H2><A NAME="s6">6.</A> <A HREF="#toc6">Sun's Netra servers</A></H2>

<P>GNU/Linux is known to run on the following systems:
<UL>
<LI>SBUS based Netra
<UL>
<LI>Netra i</LI>
</UL>
</LI>
<LI>PCI based Netra
<UL>
<LI>Netra T</LI>
<LI>Netra X1</LI>
</UL>
</LI>
</UL>

Installation kernel images can be downloaded from
<HR>
<PRE>
http://sunsite.ulatina.ac.cr/Unix/Linux/Splack/
sparc/splack-8.0/kernels/sun4u.s
</PRE>
<HR>
<P>
<P>
<HR>
<H2><A NAME="s7">7.</A> <A HREF="#toc7">Sun's Enterprise servers</A></H2>

<P>GNU/Linux is known to run on the following systems:
<P>
<UL>
<LI>SBUS based servers
<UL>
<LI>Enterprise 1</LI>
<LI>Enterprise 2</LI>
<LI>Enterprise 150</LI>
<LI>Enterprise 3000</LI>
<LI>Enterprise 3500</LI>
<LI>Enterprise 4000</LI>
<LI>Enterprise 4500</LI>
<LI>Enterprise 5000</LI>
<LI>Enterprise 6000</LI>
<LI>Enterprise 6500</LI>
<LI>Enterprise 10000 (up to 64 CPUs can be fitted in this server. 
It is nicknamed StarFire).
More information about running a 2.6.x GNU/Linux kernel on an E10k can be found
on this page:
<A HREF="http://people.debian.org/~fabbione/e10k/debian_on_e10k.txt">http://people.debian.org/~fabbione/e10k/debian_on_e10k.txt</A>
</LI>
</UL>

As far as I know, Linux on these systems have been tested with up to 24 CPUs
</LI>
<LI>PCI based servers
<UL>
<LI>Enterprise 250</LI>
<LI>Enterprise 450</LI>
</UL>



</LI>
</UL>

One of the locations installation kernel images can be downloaded from 
is
<HR>
<PRE>
http://sunsite.ulatina.ac.cr/Unix/Linux/Splack/
sparc/splack-8.0/kernels/sun4u.s
</PRE>
<HR>
<P>
<HR>
<H2><A NAME="s8">8.</A> <A HREF="#toc8">Tatung's Workstations</A></H2>

<P>GNU Linux runs fine on these systems:
<UL>
<LI>COMPStation 5-110: This is a Sun's SparcStation 5 clone.</LI>
<LI>COMPStation 10: This is a SparcStation 10 clone.</LI>
<LI>COMPStation 20: This is a SparcStation 20 clone.</LI>
<LI>COMPStation 40: This is a SparcStation clone. </LI>
<LI>COMPStation U2: This is a dual 200Mhz UltraSPARC based worstation.</LI>
<LI>COMPStation U10S: This is an 440Mhz UltraSPARC IIi based workstation. </LI>
<LI>COMPStation U100T: This is an 500Mhz UltraSPARC IIe  based workstation
</LI>
</UL>
<P>
<HR>
<H2><A NAME="s9">9.</A> <A HREF="#toc9">Tatung's SPARC Servers</A></H2>

<P>GNU/Linux runs on the following servers from this manufacturer:
<UL>
<LI>COMPServer 1U: TWS 1101R and TWS 1102R : These are single 500Mhz UltraSPARC IIe servers.</LI>
<LI>COMPServer 2U: TWS 1200R: This is a single 500Mhz UltraSPARC IIe server.</LI>
<LI>COMPServer U4MP: This is a quad 450/480 Mhz UltraSPARC II server.</LI>
<LI>COMPServer U4MP-R: This is the rackable U4MP CompServer. </LI>
<LI>COMPServer U60SR: This is a dual 450 Mhz UltraSPARC II rackable Server.</LI>
</UL>
 
<P>
<HR>
<H2><A NAME="s10">10.</A> <A HREF="#toc10">Fujitsu's supercomputers</A></H2>

<P>At least one of their supercomputers, the AP1000+,
runs GNU/Linux. This is a distributed memory multi-computer.  It is used in the                                                                                                                                                                                                   
<CODE>CAP</CODE> program which is a collaborative research program between
Fujitsu Laboratories and the
Australian National University. 
This computer was used in the phase 1 of this
project.
They have managed to run Linux on a 16 node computer with 16 MB ram per CPU
module. More information about this project can be found on this page:
<A HREF="http://cap.anu.edu.au/cap/projects/linux/">http://cap.anu.edu.au/cap/projects/linux/</A><P>
<P>More information can be found about Fujitsu's offering on this page:
<A HREF="http://www.fujitsu.com/support/computing/server/unix/documents/">http://www.fujitsu.com/support/computing/server/unix/documents/</A><P>
<HR>
<H2><A NAME="s11">11.</A> <A HREF="#toc11">Linux on SPARC: 2 kernels.</A></H2>

<P>Actually Linux on SPARC architecture comes in two flavors:
<UL>
<LI>A 32 bits kernel for the Sun SPARC, Super SPARC, Micro SPARC and
Hyper SPARC Processors.</LI>
<LI>A 64 bits kernel for UltraSPARC based computers.</LI>
</UL>

In both case most applications run in 32 bit ( 32 bit userland ).
There is a comprehensive
<A HREF="http://www.ultralinux.org/faq.html"> FAQ </A> on 
<A HREF="http://www.ultralinux.org">UltraLinux</A>'s website.
<P>
<HR>
<H2><A NAME="s12">12.</A> <A HREF="#toc12">Choosing a distribution.</A></H2>

<P>
<P>You are very lucky, it seems that you can pick the one you like.
In order to help you with this task here are some links, that should
help you to make an informed decision.
<P>
<P>
<H2><A NAME="ss12.1">12.1 Aurora SPARC Linux</A>
</H2>

<P>This distribution is based on the RedHat 7.3 SPARC distribution.
The homepage is:
<A HREF="http://www.auroralinux.org/">http://www.auroralinux.org/</A>
It is on the rise.
There exists 3 mailing lists. You can join them at
<A HREF="http://lists.auroralinux.org/mailman/listinfo">http://lists.auroralinux.org/mailman/listinfo</A><P>The latest version codenamed wombat can be downloaded on the
<A HREF="ftp://auroralinux.org/pub/aurora/build-1.91/">ftp://auroralinux.org/pub/aurora/build-1.91/</A> ftp site.
<P>
<H2><A NAME="ss12.2">12.2 Debian GNU/Linux.</A>
</H2>

<P>Debian GNU/Linux runs on SPARC platform;
you can find a lot of informations about this port at the
<A HREF="http://www.debian.org/ports/sparc/">http://www.debian.org/ports/sparc/</A> webpage
<P>
<P>
<P>You can join the mailing list by sending a mail to
<A HREF="mailto:debian-sparc-request@lists.debian.org">&lt; debian-sparc-request@lists.debian.org &gt;</A> with subscribe as the subject.
<P>
<H2><A NAME="ss12.3">12.3 Gentoo</A>
</H2>

<P>
<P>This is a SPARC and SPARC64 distribution, more informations can be
found in the Gentoo handbook at
<A HREF="http://www.gentoo.org/doc/en/handbook/draft/handbook-sparc.xml">http://www.gentoo.org/doc/en/handbook/draft/handbook-sparc.xml</A><P>
<H2><A NAME="ss12.4">12.4 PLD.</A>
</H2>

<P>This distribution is based on the RedHat and is developed in Poland.
They do have a SPARC 32 port.
More information can be found at their homepage
<A HREF="http://pld.org.pl/">http://pld.org</A>
They also provide some mailing lists. More information can be found there:
<A HREF="http://mail.pld.org.pl/mailman/listinfo/">http://mail.pld.org.pl/mailman/listinfo/</A><P>
<H2><A NAME="ss12.5">12.5 RedHat Linux.</A>
</H2>

<P>
<P>The latest RedHat Linux distribution for the SPARC architecture is the 6.2; you can download it
at 
<A HREF="http://www.linuxiso.org/download.php/243/zoot-sparc.iso">http://www.linuxiso.org/download.php/243/zoot-sparc.iso</A> for example.
<P>There exists a mailing list about Linux and RedHat on SPARC Processors, 
you can access it there:
<A HREF="http://www.redhat.com/mailman/listinfo/sparc-list">http://www.redhat.com/mailman/listinfo/sparc-list</A><P>
<H2><A NAME="ss12.6">12.6 Slackware</A>
</H2>

<P>
<P>There exists a port for the SPARC architecture, more information 
is available at 
<A HREF="http://www.slackware.com/ports/sparc/">http://www.slackware.com/ports/sparc/</A><P>
<H2><A NAME="ss12.7">12.7 SLXT</A>
</H2>

<P>
<P>Actually, the SPARC-Linux Xterminal Package is not a distribution, it is 
a way to use a diskless SPARCStation as an X terminal. This is a a very convenient
package.
More information can be found at
<A HREF="http://www.pucebaboon.com/SLXT/">http://www.pucebaboon.com/SLXT/</A><P>
<H2><A NAME="ss12.8">12.8 Linux Terminal Server Project</A>
</H2>

<P>
<P>The Linux Terminal Server Project (LTSP)
is a convenient way to turn a SPARC or an Ultra SPARC workstation into
a diskless workstation.
The  project's homepage is  
<A HREF="http://www.ltsp.org/">http://www.ltsp.org/</A><P>Step by step instruction to setup a client on an Ultra SPARC can be found at the following website:
<A HREF="http://math.univ-lille1.fr/ltsp-sparc/">http://math.univ-lille1.fr/ltsp-sparc/</A><P>
<H2><A NAME="ss12.9">12.9 SplackLinux</A>
</H2>

<P>
<P>It is meant to be Slackware Compatible for SPARC.
Its homepage is
<A HREF="http://sourceforge.net/projects/splack">http://sourceforge.net/projects/splack</A><P>
<P>
<H2><A NAME="ss12.10">12.10 SuSE Linux.</A>
</H2>

<P>
<P>The SuSE Linux 7.3 distribution is quite complete, you have 5 ISOs to
download. You can grab it at 
the following URL:
<A HREF="ftp://ftp.suse.com/pub/suse/sparc">ftp://ftp.suse.com/pub/suse/sparc</A><P>In the subdirectories you will also find bonus software such as 
KDE libraries and programms.
<P>There is a mirror site located in Germany:
<A HREF="ftp://ftp.gwdg.de/pub/linux/suse/">ftp://ftp.gwdg.de/pub/linux/suse/</A>
And, there are some extra files on the 
SuSE's
server.
You can join the mailing list by sending a blank mail to 
<A HREF="mail to:suse-sparc-subscribe@suse.com">&lt; suse-sparc-subscribe@suse.com &gt;</A>
More information can be found at:
<A HREF="http://www.suse.com">http://www.suse.com</A><P>
<H2><A NAME="ss12.11">12.11 Vine Linux</A>
</H2>

<P>
<P>This is a Japanese distribution and there exist a SPARC port.
It is an rpm based distribution.
From the documentation, it supports both SPARC 32 and SPARC 64.
The documentation (in Japanese ;-) ) can be read online at
<A HREF="http://www.vinelinux.org/sparc/2.1.5/install-vine-sparc-2.1.5.html">http://www.vinelinux.org/sparc/2.1.5/install-vine-sparc-2.1.5.html</A><P>
<HR>
<H2><A NAME="s13">13.</A> <A HREF="#toc13">Installing Linux</A></H2>

<P>
<P>To install Linux on a SPARC based computer, should be strightforward
if you follow the informations provided by your distribution.
<P>To boot from a floppy drive you have to have an install image on a
floppy disk and to issue the <CODE>boot floppy</CODE> from the OpenBoot.
<P>If your computer does not have a CDROM or a floppy drive, you can always try 
to perform a network installation using <CODE>NFS</CODE> as explained by 
this French document: 
<A HREF="http://www.linux-france.org/article/materiel/sparc-install/Sparc-netinstall.html">http://www.linux-france.org/article/materiel/sparc-install/Sparc-netinstall.html</A>
. Basicaly, you have to set up an <CODE>NFS</CODE> server and to boot your
computer using the 
<CODE>boot net vmlinux nfsroot=192.168.52.12:/tmp</CODE>
in order to access the image that is exported by the 
<CODE>192.168.52.12</CODE> computer on the <CODE>/tmp</CODE> directory.
Another source of information, this one is written in English,
is this FAQ from the UltraLinux website (
<A HREF="http://www.ultralinux.org/faq.html#q_5_9">http://www.ultralinux.org/faq.html#q_5_9</A>
)
<P>
<HR>
<H2><A NAME="s14">14.</A> <A HREF="#toc14">Working with the Openboot.</A></H2>

<P>In this section, you will be given an overview of what is the OpenBoot,
and
you will be given the main commands you need to know in order to test
your hardware and to install Linux.
<H2><A NAME="ss14.1">14.1 What is the OpenBoot?</A>
</H2>

<P>
<P>If you are used to PC hardware, you are used to interact with 
its BIOS. SPARC computers have an Openboot, it may seem to be like 
your BIOS, but it is actually far more powerfull. 
The Openboot performs the following tasks:
<UL>
<LI>Testing and initializing the hardware.</LI>
<LI>Starting the operating System.</LI>
<LI>Giving you acces to a set of tools to program and to debug it.</LI>
</UL>

The programming language is FCode, if you can program the Forth
langage, you can program it.
<P>In this section, we will juste use a small set of the OpenBoot's 
capabilities, in order to test hardware and to boot the system.
First you have to enter in the OpenBoot, just hit the <CODE>stop</CODE>
and <CODE>a</CODE> keys simultaneously. Then you should see a <CODE>ok</CODE>
prompt, if instead you see the <CODE>&gt;</CODE> prompt then type
<CODE>n</CODE>. Now you can proceed to the next section.
<P>
<H2><A NAME="ss14.2">14.2 Diagnostics commands.</A>
</H2>

<P>The OpenBoot, gives you a lot of commands to test 
and to gather information about your hardware.
<UL>
<LI><CODE>.version</CODE> Displays version and date of the startup PROM.</LI>
<LI><CODE>banner</CODE> You will see the banner, that is displayed at
power-on. It is useful to gather some data about CPUs.</LI>
<LI><CODE>pcia-probe-list</CODE> Test PCI on computers that have a PCI bus.</LI>
<LI><CODE>module-info</CODE> This will display the Buses clockspeed,
and processors frequency and amount of cache. </LI>
<LI><CODE>probe-scsi</CODE> This will test all devices connected to the on board
SCSI controler. </LI>
<LI><CODE>probe-scsi-all</CODE> This will test all devices connected to all
the SCSI controlers.</LI>
<LI><CODE>show-devs</CODE> This displays all installed and probed devices.</LI>
<LI><CODE>show-sbus</CODE> Use this, if you just want to display a list of
installed and probed SBus devices.
</LI>
<LI><CODE>test-all</CODE> This will test all devices in the
system that have a self test program.</LI>
<LI><CODE>test floppy</CODE> If a floppy drive is installed, it will test it
reminding you to have a formated floppy disk inside.</LI>
<LI><CODE>test-memory</CODE> If the system <CODE>diag-switch?</CODE> is set to 
<CODE>true</CODE>, this will test the memory.</LI>
<LI><CODE>test net</CODE> This will test the network interfaces </LI>
<LI><CODE>watch-aui</CODE> This will test the AUI ethernet link.
You will see '.' for good packets and 'X" for bad ones. Strike any key 
to abort.</LI>
<LI><CODE>watch-clock</CODE> This will test the real time clock chip, it
will tick once a second. To stop this test strike any key.</LI>
<LI><CODE>watch-net</CODE> This will check the network connection ( both
AUI and TP ). You will see '.' for good packets and 'X" for bad
ones. Strike any key to abort.</LI>
<LI><CODE>watch-net-all</CODE> This will test all Ethernet interfaces.
You will see '.' for good packets and 'X" for bad ones. Strike any key 
to abort. When you abort one, it will test the next one.</LI>
<LI><CODE>watch-tpe</CODE> This will check the TPE ethernet interface.
You will see '.' for good packets and 'X" for bad ones. Strike any key 
to abort.</LI>
</UL>
 
<P>
<H2><A NAME="ss14.3">14.3 Boot commands.</A>
</H2>

<P>The OpenBoot allows you to boot from various devices, the command
you are the more likely to enter are below.
<UL>
<LI><CODE>boot</CODE> Boot kernel from default device.</LI>
<LI><CODE>boot cdrom</CODE> Boot kernel from CDROM drive.</LI>
<LI><CODE>boot net-tpe</CODE> Boot kernel from network urnel from CDROM drive, this is the
command you are the more likely to type when installing Linux.</LI>
<LI><CODE>boot net</CODE> Boot kernel from network using auto-selected
interface.</LI>
<LI><CODE>boot net-aui</CODE> Boot kernel from network using AUI
interface.</LI>
<LI><CODE>boot net-tpe</CODE> Boot kernel from network using TPE
interface.</LI>
<LI><CODE>boot tape</CODE> Boot default file from tape.</LI>
</UL>
<P>
<P>
<H2><A NAME="ss14.4">14.4 Misc commands.</A>
</H2>

<P>
<P>
<UL>
<LI><CODE>eject-floppy</CODE> Ejects the floppy.</LI>
<LI><CODE>power-off</CODE> Poweroff the computer.</LI>
</UL>

You can  poweroff your computer, when you are working with the 
OpenBoot : just type <CODE>power-off</CODE>
<P>For more informations on the OpenBoot you can read this FAQ at
<HR>
<H2><A NAME="s15">15.</A> <A HREF="#toc15">Hard drive buses.</A></H2>

<P>Depending on their architecture, the computers are likely to feature
one of the following hard drive buses.
<P>
<H2><A NAME="ss15.1">15.1 SCSI-SCA.</A>
</H2>

<P>An SCSI connector is located at the rear of the Computer; 
the SCA chanel is found on the internal bus of the SPARC Worstation. It
can be basicaly seen as an SCSI bus that provides power supply and
assigns SCSI ID to the peripherals.
<P>
<H2><A NAME="ss15.2">15.2 EIDE.</A>
</H2>

<P>This is found for example in an Ultra 5 or Ultra 10 computers
This bus is the one you can find in your intel box.
<P>
<H2><A NAME="ss15.3">15.3 FC-AL</A>
</H2>

<P>This is the FiberChannel bus.
It is used by the SunBlade 1000 workstation.
<P>
<HR>
<H2><A NAME="s16">16.</A> <A HREF="#toc16">CDROM: specific settings.</A></H2>

<P>The easiest way to install linux on SPARC computer is to use a
CDROM. If your computer does not have a CDROM you can plug an
external SCSI CDROM drive, but there are two things to do or you
are doomed to fail: 
<UL>
<LI>When you issue the <CODE>boot cdrom</CODE> command, the CDROM is
mapped to ID number 6.</LI>
<LI>Your CDROM player's block size should be setted up on 512.</LI>
</UL>

As a rule of thumb, nearly all SCSI CDROM drives can be assigned to ID number 
6 but you should check if the block size setting can be changed. 
<P>
<P>
<HR>
<H2><A NAME="s17">17.</A> <A HREF="#toc17">SILO.</A></H2>

<P>The Sparc Improved Boot LOader ( SILO ), is the boot loader that is
used in the SPARC architecture. It allows you to boot Linux, Solaris
or SunOS. It can load a Linux kernel from ext2, iso9660, UFS or 
ROMFS. From the SILO's README:
<P>This is the first attempt at a complete boot loader for Linux
on the Sparc.  Because of the lack of space on the bootblock, we have
to do it in two steps, the first step is a very simple loader based on
Peter Zaitcev's silo (we will call this the first stage loader) which
should fit in 512B and its sole purpose is to load a more
complete bootstrap loader, herein refered to as the second stage boot
loader. The cool thing about the second stage loader we implemented is
that it makes use of the ext2 library (provided with the ext2fs tools) and
some ufs code, and thus allows the loader to access any file on a ext2 fs
and ufs, uses silo.conf, handles gunzipping and a lot of other things.
This is different from Linux/i386 lilo which needs a map for each
kernel. In silo we just keep one map file for the second stage
loader, we don't expect you to be changing the second stage loader on
your daily routine (you can do so, you will just need to use a tool to
reinstall the maps).
<P>Actually, IMHO it is easier to use than LILO.
<P>
<HR>
<H2><A NAME="s18">18.</A> <A HREF="#toc18">Compiling a kernel</A></H2>

<P>If you have already compiled a kernel on x86 architecture
there is just a little difference when you wish to compile 
a kernel on SPARC architecture.
<P>you do not type 
<HR>
<PRE>
#make zImage
#make modules
#make modules_install
</PRE>
<HR>

but
<HR>
<PRE>
#make vmlinux
#make modules
#make modules_install
</PRE>
<HR>

More information can be found on
<A HREF="http://www.ultralinux.org/faq.html">http://www.ultralinux.org/faq.html </A>
Then, from the Ultralinux's FAQ the following steps are :
<UL>
<LI>1.Copy <CODE>linux/System.map</CODE> to your bootfile directory (eg. <CODE>/boot</CODE>), and rename this file to 
<HR>
<PRE>
System.map-&lt;kernel-version>
</PRE>
<HR>
</LI>
<LI>2.Copy <CODE>linux/vmlinux</CODE> to your bootfile directory, and rename this file to 
<HR>
<PRE>
vmlinux-&lt;kernel-version>
</PRE>
<HR>
</LI>
<LI>3.Edit <CODE>/etc/silo.conf</CODE>, and add your new kernel to this file.</LI>
<LI>4.Reboot your machine.</LI>
</UL>
<P>If you have trouble compiling your kernel, maybe it needs to be
pached. There are many patches floating around on the net. There
exists a website that put some of them online on a regular basis both
for the stable and unstable branches, up to the 2.6.x kernel series. 
Those patches apply to the
hardware used by the site's owner and this should be considered as a
very good starting point to be adapted to your hardware.
More information can be found at
<A HREF="http://osinvestor.com/sparc/">http://osinvestor.com/sparc/</A>
You can also email the site's owner, Rob Radez :
<A HREF="mailto:rob@osinvestor.com">&lt;rob@osinvestor.com&gt;</A>
If you are unfamiliar with paches he also made them available as
debian packages.
<P>
<P>
<P>
<HR>
<H2><A NAME="s19">19.</A> <A HREF="#toc19">Keyboard and mouse.</A></H2>

<P>Most of the sun4m workstation have a special connector for the
keyboard. In this case the mouse is connected indifferently to 
left or the right side of the keyboard. Some computers have a 
PS2 connector, it is very easy to spot the difference. 
The keyboards you are the more likely to encounter are the type4 and type5. 
<P> 
At the time of this writting, I didn't manage to have mouse support
on the Sun Blade 100. Things should become easier in the near future.
<P>
<HR>
<H2><A NAME="s20">20.</A> <A HREF="#toc20">X Window.</A></H2>

<P>
<P><CODE>XFree</CODE>, usually, runs fine on theses systems.
The table below helps you choose the XFree86 4.2.0 server that matches your
graphic adapter:
<P>
<HR>
<PRE>
 
Graphic Adapter         Xserver

Sun Creator 3D          sunffb
Sun Elite 3D            sunffb
Sun GX                  suncg6
Sun Leo (ZX)            sunleo
Sun TCX                 suntcx
Sun Turbo GX            suncg6
Sun bw2                 sunbw2
Sun cg14                suncg14
Sun cg3                 suncg3
</PRE>
<HR>
<P>There is a catch with the  13W3 video connector that equips some 
of the framebuffers you may encounter.
One may try to plug it on a VGA monitor using an 13W3 to VGA adaptor that
is sold on the market. The problem is that SGI and Sun Microsystems do
not have the same definition of this standard and depending of the adapter
you buy, this may work or not (you know Murphy ...). As a rule, idealy you should
try it before you buy. 
<P>
<HR>
<H2><A NAME="s21">21.</A> <A HREF="#toc21">SMP.</A></H2>

<P>
<P>Ouaich, SMP is supported, and I am sure that ROSS's dual CPU 
modules are supported as you can see by yourself:
<P>
<HR>
<PRE>

piou@ywing:~ > cat /proc/cpuinfo 
cpu             : ROSS HyperSparc RT625 or RT626
fpu             : ROSS HyperSparc combined IU/FPU
promlib         : Version 3 Revision 2
prom            : 2.25
type            : sun4m
ncpus probed    : 2
ncpus active    : 2
Cpu0Bogo        : 125.33
Cpu1Bogo        : 125.33
MMU type        : ROSS HyperSparc
invall          : 0
invmm           : 0
invrnge         : 0
invpg           : 0
contexts        : 4096
CPU0            : online
CPU1            : online
piou@ywing:~ > 
</PRE>
<HR>
<P>
<P>The SparcStation 10 and SparcStations 20 are SMP capable computers and
according to the
<A HREF="http://faqaboss.sunhelp.org/">FAQABOSS</A>
the following combinations are known to work :
<UL>
<LI>2xSM40 ( model 402 )</LI>
<LI>2xSM41 ( model 412 )</LI>
<LI>2xSM51 ( model 512 )</LI>
<LI>2xSM512 ( model 514 )</LI>
<LI>2xSM61 ( model 612 )</LI>
<LI>2xSM71 ( model 712 )</LI>
<LI>2xSM81 ( model 812 )</LI>
</UL>
<P>And, as stated earlier, CPU modules in SparcStations 10 and can run a
different clock speeds, the following ones __SHOULD__ work:
<P>
<UL>
<LI>2xSM50</LI>
<LI>SM41, SM51</LI>
<LI>SM41, SM61</LI>
<LI>SM51, SM61</LI>
<LI>SM71, SM81</LI>
</UL>
<P>
<P>
<P>
<P>How does it performs? Well, it is fast, really fast. Some of the java 
Demos can run faster on a dual HyperSparc 125Mhz 128MB ( <CODE>ywing</CODE> ) than on a dual 
celeron BP6 433@433Mhz 192MB ( <CODE>calimero</CODE> ). The same applies for the Gimp. When it
comes to compiling <CODE>calimero</CODE> runs faster than <CODE>ywing</CODE>. Both computers
running 2.2.16 kernel and <CODE>calimero</CODE>'s hard disk subsystem is full SCSI.
<P>One important detail when you plan to have different CPU modules in
your computer is to have the same kind of modules, you cannot mix
SuperSparc and HyperSparc for example, but you can have an odd number
of CPUs, for example 3. They are said to be able to run modules
at different clock speed as written in this article form
<A HREF="http://www.aceshardware.com/Spades/read.php?article_id=76">AcesHardware</A>
, but I have not witnessed it.  
<P><CODE>ywing</CODE> has been upgraded to quad-CPU. You can read the
kernel's message:
<P>
<HR>
<PRE>
cpu             : ROSS HyperSparc RT625 or RT626
fpu             : ROSS HyperSparc combined IU/FPU
promlib         : Version 3 Revision 2
prom            : 2.25
type            : sun4m
ncpus probed    : 4
ncpus active    : 4
Cpu0Bogo        : 125.33
Cpu1Bogo        : 125.33
Cpu2Bogo        : 125.33
Cpu3Bogo        : 125.33
MMU type        : ROSS HyperSparc
invall          : 0
invmm           : 0
invrnge         : 0
invpg           : 0
contexts        : 4096
CPU0            : online
CPU1            : online
CPU2            : online
CPU3            : online
</PRE>
<HR>
<P>and its main memory is now 256MB:
<P>
<HR>
<PRE>
total:    used:    free:  shared: buffers:  cached:
Mem:  263028736 29114368 233914368 22958080  1695744 12779520
Swap: 133849088        0 133849088
MemTotal:    256864 kB
MemFree:     228432 kB
MemShared:    22420 kB
Buffers:       1656 kB
Cached:       12480 kB
BigTotal:         0 kB
BigFree:          0 kB
SwapTotal:   130712 kB
SwapFree:    130712 kB
</PRE>
<HR>
<P>So I have performed an empirical <CODE>proftpd</CODE> compilation test using the
<CODE>make  -JN</CODE>. The results are:
<HR>
<PRE>
with make
real    3m27.466s
user    3m15.670s
sys     0m12.030s

with make -j2

real    1m52.670s
user    3m27.210s
sys     0m15.310s

with make -j3

real    1m22.560s
user    3m43.910s
sys     0m18.070s

with make -j4
real    1m13.582s
user    4m2.200s
sys     0m22.830s

with make -j5
real    1m13.445s
user    4m4.060s
sys     0m22.640s

with make -j8

real    1m15.550s
user    4m1.840s
sys     0m22.960s

with make -j 10
real    1m20.091s
user    4m2.440s
sys     0m22.170s
</PRE>
<HR>
<P>As expected the best results are with make -j5 ( one instance per CPU +
one ready to enter when a cache miss occurs ); then N increasing the results
are starting to worsen.
<P>As a conclusion, those <CODE>sun4m</CODE> SMP systems will be very
interesting when Gimp 2.0 will be available because of multitreading
and paralelization of algorithms.
<P>If you want to learn more about SMP and Linux you can read the
<CODE>SMP-HOWTO</CODE>
<A HREF="http://www.tldp.org/HOWTO/SMP-HOWTO.html">http://www.tldp.org/HOWTO/SMP-HOWTO.html</A><P>
<HR>
<H2><A NAME="s22">22.</A> <A HREF="#toc22">The sound.</A></H2>

<P>The sound works fine on my SparcStation 20 and a 2.4.x kernel series.
Most of the people I know report succes with the 2.4 kernel series.
<P>
<P>If you plan to use an older kernel, 
you can read the Linux/Sparc audio webpage at
<A HREF="http://www.dementia.org/~shadow/sparcaudio.html">sparcaudio</A> which 
is a very good source of information about Sound support on Sun's
SparcStations. 
<P>
<HR>
<H2><A NAME="s23">23.</A> <A HREF="#toc23">Serial port.</A></H2>

<P>Sun workstations ususaly have 2 serial ports, but 
on sun4m workstation there is usualy only one serial connector at the rear,
you need a special Y cable in order to have access to both ports.
<P>
<P>
<HR>
<H2><A NAME="s24">24.</A> <A HREF="#toc24">Ressources.</A></H2>

<P>
<P>The following sites are given for your information, I am independent
from them and does not represent them. If you would like to suggest a
website or to add any information do not hesitate to email me.
<P>
<H2><A NAME="ss24.1">24.1 Information sites.</A>
</H2>

<P>
<UL>
<LI>Ace's Hardware:
<A HREF="http://www.aceshardware.com/">http://www.aceshardware.com/</A>
An hardware information site having a SPARC area, actually 
the whole site used to run on a SparcStation 20 SM71, 128MB ! Ouaich, 
definitively not an Intel clone running <CODE>Windows NTM</CODE>.</LI>
<LI>ArsTechnica:
<A HREF="http://arstechnica.com/cpu/index.html">http://arstechnica.com/cpu/index.html</A>
ArsTechnica is an information website with a good 
CPU section. </LI>
<LI>Black-Cube:
<A HREF="http://www.black-cube.net/Sun/">http://www.black-cube.net/Sun/</A> Pictures of various 
SPARC hardware : IMHO great site.</LI>
<LI>LinuxDoc: 
<A HREF="http://www.tldp.org">http://www.tldp.org</A> homesite of the LDP.</LI>
<LI>Obsolyte:
<A HREF="http://www.obsolyte.com/sunPICS/">http://www.obsolyte.com/sunPICS/</A> Nice pictures from various
sun Hardware.</LI>
<LI>SPARC International, Inc.
<A HREF="http://www.sparc.org/">http://www.sparc.org/</A> 
As the name implies, a lot of information about SPARC architecture.</LI>
<LI>Sun:
<A HREF="http://docs.sun.com/">http://docs.sun.com/</A>
the starting node to access documentation on Sun Microsystems
website.</LI>
<LI>Sun's Linux webpage.
<HR>
<PRE>
http://wwws.sun.com/software/linux/compatibility/ultralinux/index.html
</PRE>
<HR>


</LI>
<LI>SunHelp: 
<A HREF="http://sunhelp.org/">http://sunhelp.org</A>
A good source of information about Sun Hardware and Solaris OS. Has a
lot of links and good documentation on site.</LI>
<LI>Just the Facts:
<A HREF="http://sunsite.ualberta.ca/Sun_Resources/Just_The_Facts/JTF.html">http://sunsite.ualberta.ca/Sun_Resources/Just_The_Facts/JTF.html</A>
plenty of "Just the facts" documents in <CODE>.ps</CODE> format. 
</LI>
<LI>UltraLinux:
<A HREF="http://www.ultralinux.org/">http://www.ultralinux.org/</A> If you need information about the 
Linux Kernel on SPARC architecture it is a very good place: "Bring
your penguin into the Sun". 
</LI>
</UL>
<P>
<P>
<H2><A NAME="ss24.2">24.2 Auction sites.</A>
</H2>

<P>Among the various Auction websites available on the net you can try
theses ones. Remember to be very cautious when you purchase hardware (
see the Buying a SPARC computer section. )
<P>
<UL>
<LI>Ebay: 
<A HREF="http://www.ebay.com/">http://www.ebay.com</A>
Ebay, and its regional sites have got a lot of
Computers.
</LI>
<LI>Yahoo! Auctions:
<A HREF="http://auctions.yahoo.com/">http://auctions.yahoo.com/</A>
This is the well known site.</LI>
</UL>
<P>
<H2><A NAME="ss24.3">24.3 A Good  Provider based in France</A>
</H2>

<P>There exists a very reliable source of used Sun workstations in France: 
<CODE>solutions-rl</CODE>
<P>
<A HREF="http://www.solutions-rl.fr">http://www.solutions-rl.fr</A><P>
<P>
<P>
<HR>
<H2><A NAME="s25">25.</A> <A HREF="#toc25">Thanks and Credits.</A></H2>

<P>
<P>
<H2><A NAME="ss25.1">25.1 Thanks.</A>
</H2>

<P>
<P>Among the many people who showed me how great Unix and the Unix
computers can be, some people have earned a special place
I would like to thank them:
<P>
<UL>
<LI>My &quot;Vieux matou&quot; Michel Fiolet. Who gave me my first acount
on a real Unix machine, and took the time to answer my questions,
showing me among other things how to take advantage of the hardware's
feature.</LI>
<LI>Nathalie Sabbah. Who was always able to guess at the speed of light
what went wrong and fixed it on the fly. And took time to install the
tools I needed.</LI>
<LI>Yves Daignaux. Who among other things always welcomed my questions, and
whose office was always open even late in the evening.</LI>
</UL>
 
Both of them beeing real Sysadmin and teachers
from the trenches, have a very
deep knowledge and understanding of both the Hardware and Software.
<P>Also many thanks to &quot;old crocodile&quot; virgile for the time he spent at
the library helping me to get the big picture. 
<P>
<H2><A NAME="ss25.2">25.2 Credits.</A>
</H2>

<P>
<P>Some people gave a lot of time and ressource to help me
with this project, hereafeter is their names sorted by alphabetic
order: 
<P>
<UL>
<LI>
<A HREF="mailto:babyworm@atlas.korea.ac.kr">&lt;babyworm@atlas.korea.ac.kr&gt;</A>
provides a translation into the Korean Language.</LI>
</UL>
<P>
<HR>
<H2><A NAME="s26">26.</A> <A HREF="#toc26">Copyright, Disclaimer and Trademarks</A></H2>

<P>
<P>
<H2><A NAME="ss26.1">26.1 Copyright.</A>
</H2>

<P>
<P>Copyright &copy; 2000-2004 by Lionel, trollhunter Bouchpan-Lerust-Ju&eacute;ry.
This document may be distributed under the terms set forth in the 
GNU Free Documentation Licence 
<A HREF="http://www.gnu.org/copyleft/fdl.txt">http://www.gnu.org/copyleft/fdl.txt</A> .
<P>This documentation is distributed in the hope that it will be useful, but without any warranty. The information in this document is correct to the best of my knowledge, but there's a always a chance I've made some mistakes, so don't follow everything too blindly, especially if it seems wrong. Nothing here should have a detrimental effect on your computer, but just in case I take no responsibility for any damages ocurred 
from the use of the information contained herein.
<P>In this document you will encounter some commercial products and
brands. Theses products are cited for information purpose, it is not
an endorsement from the author. The trademarks belong to their respective 
owners.
<P>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with the Invariant Sections being : 
&quot;Copyright, Disclaimer and Trademarks&quot;
&quot;Preface.&quot;, 
&quot;SPARC, which one ?&quot;, 
&quot;Buying a SPARC computer.&quot;,
&quot;SPARC based laptops&quot;,
&quot;The wonderful SparcStation Voyager&quot;,
&quot;Sun's Netra servers&quot;,
&quot;Sun's Enterprise servers&quot;,
&quot;Tatung's Workstations&quot;,
&quot;Tatung's SPARC servers&quot;,
&quot;Fujitsu's supercomputers&quot;, 
&quot;Linux on SPARC: 2 kernels.&quot;, 
&quot;Choosing a distribution.&quot;, 
&quot;Installing Linux.&quot;, 
&quot;Working with the Openboot.&quot;, 
&quot;Hard drive buses.&quot;, 
&quot;CDROM: specific settings.quot;, 
&quot;SILO.&quot;, 
&quot;Keyboard and mouse.&quot;, 
&quot;X Window.&quot;, 
&quot;SMP.&quot;, 
&quot;The sound.&quot;, 
&quot;Serial port.&quot;,
&quot;Ressources.&quot;,
&quot;Thanks and Credits.&quot;,
&quot;Revision History.&quot;, 
<P>, with the
Front-Cover Texts being &quot;title&quot; and &quot;abstract.&quot;
, and with no Back-Cover Texts .
<P>
<P>
<P>
<H2><A NAME="ss26.2">26.2 Administrativia.</A>
</H2>

<P>
<P>This text is included in the Linux Documentation Project 
<A HREF="http://tldp.org/HOWTO/HOWTO-INDEX/howtos.html">http://tldp.org/HOWTO/HOWTO-INDEX/howtos.html</A> .
<P>
<P>If you wish to mirror it or to translate it, please contact me.
<P>Lionel, Trollhunter Bouchpan-Lerust-Ju&eacute;ry 
<A HREF="mailto:trollhunter@linuxfr.org">&lt;trollhunter@linuxfr.org&gt;</A>
or at 
<A HREF="mailto:trollhunter@free.fr">&lt;trollhunter@free.fr&gt;</A><P>
<HR>
<H2><A NAME="s27">27.</A> <A HREF="#toc27">Revision History.</A></H2>

<P>
<P>
<UL>
<LI>August 2004. v0.0.7
<UL>
<LI>Some minor spellchecking and modifications/updates in various sections</LI>
<LI>Linux Terminal Server Project section added </LI>
</UL>
</LI>
<LI>October 2003. v0.0.5 
<UL>
<LI>Korean Tranlation.</LI>
<LI>Spellchecking.</LI>
<LI>ERC32 and LEON processors added.</LI>
<LI>SPARC64 V processor added</LI>
<LI>SPARC based laptops added.</LI>
<LI>The wonderful SparcStation Voyager added.</LI>
<LI>Sun's Netra servers added.</LI>
<LI>Sun's Enterprise servers added.</LI>
<LI>Installing Linux section started.</LI>
<LI>Tatung's Workstations added.</LI>
<LI>Tatung's SPARC servers added.</LI>
<LI>Fujitsu's supercomputers added.</LI>
<LI>The Hard Drive buses section rewritten.</LI>
<LI>The XWindow section expanded.</LI>
<LI>The credits section added.</LI>
<LI>Kernel compiling added.</LI>
<LI>Modifications to other sections.</LI>
</UL>
</LI>
<LI>November 2000. v0.0.3</LI>
<LI>November 2000. First release v0.0.1 </LI>
</UL>
<P>
<HR>
</BODY>
</HTML>
