
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson 2-4 - Symbols And Variables &#8212; Learn Elisp For Emacs (Draft In Progress)</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Lesson 2-5 - Arrays (And Sequences)" href="../lesson-2-5-arrays-and-sequences/" />
    <link rel="prev" title="Lesson 2-3 - Lists (At Last)" href="../lesson-2-3-lists-at-last/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../lesson-2-5-arrays-and-sequences/" title="Lesson 2-5 - Arrays (And Sequences)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../lesson-2-3-lists-at-last/" title="Lesson 2-3 - Lists (At Last)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Learn Elisp For Emacs (Draft In Progress)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Lesson 2-4 - Symbols And Variables</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lesson-2-4-symbols-and-variables">
<h1>Lesson 2-4 - Symbols And Variables<a class="headerlink" href="#lesson-2-4-symbols-and-variables" title="Permalink to this headline">¶</a></h1>
<p><strong>Prerequisite:</strong> This lesson presumes you know how to invoke Elisp expression as shown in Lesson 2-1.</p>
<div class="section" id="symbols-overview">
<h2>Symbols Overview<a class="headerlink" href="#symbols-overview" title="Permalink to this headline">¶</a></h2>
<p>Before you can start building functions we need to understand what symbols are. We have seen expressions like <code class="docutils literal notranslate"><span class="pre">(concat</span> <span class="pre">&quot;blah&quot;</span> <span class="pre">&quot;bleh&quot;)</span></code>. In that expression <code class="docutils literal notranslate"><span class="pre">concat</span></code> is a symbol - a symbol whose value is a function or an operator.</p>
<p>Symbols can contain different things:</p>
<ul class="simple">
<li><p>operators or functions</p></li>
<li><p>data values</p></li>
<li><p>property lists</p></li>
<li><p>the print name of the symbol</p></li>
</ul>
<p>Some symbols are also the so-called <em>constant variables</em> - they evaluate to themselves (their data value is their name) and they cannot have their datavalue set to anything else.</p>
<p>The constant values are used to define property lists.</p>
</div>
<div class="section" id="symbols-as-function-names">
<h2>Symbols As Function Names<a class="headerlink" href="#symbols-as-function-names" title="Permalink to this headline">¶</a></h2>
<p>Symbols can be the name of functions (or operators). We will look into how these are set in a later lesson.</p>
</div>
<div class="section" id="symbols-as-variables">
<h2>Symbols As Variables<a class="headerlink" href="#symbols-as-variables" title="Permalink to this headline">¶</a></h2>
<p>Instances of Data Types evaluate to themselves in Elisp:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">9</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">9</span></code></p>
</dd>
</dl>
<p>You can evaluate Symbols similarly</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">fill-column</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">70</span></code></p>
</dd>
</dl>
<p>(It might not be <code class="docutils literal notranslate"><span class="pre">70</span></code> - but it probably will be). At a first glance it might appear that <code class="docutils literal notranslate"><span class="pre">fill-column</span></code> is a variable in Elisp with global scope - turn out it is a bit more subtle that that as will become apparent in Lesson 5-3. Later on we will see how this sort of variable will be used and have its value changed.</p>
<p>Variables don’t just exist with default values. If you try and use a random symbol in an expression it will fail.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(+</span> <span class="pre">1</span> <span class="pre">do_tell)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p>You are dropped into the debugger</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Debugger</span> <span class="n">entered</span><span class="o">--</span><span class="n">Lisp</span> <span class="n">error</span><span class="p">:</span> <span class="p">(</span><span class="n">void</span><span class="o">-</span><span class="n">variable</span> <span class="n">do_tell</span><span class="p">)</span>
 <span class="p">(</span><span class="o">+</span> <span class="mi">1</span> <span class="n">do_tell</span><span class="p">)</span>
 <span class="nb">eval</span><span class="p">((</span><span class="o">+</span> <span class="mi">1</span> <span class="n">do_tell</span><span class="p">))</span>
 <span class="nb">eval</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span><span class="o">-</span><span class="mi">1</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
 <span class="nb">eval</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
 <span class="nb">eval</span><span class="o">-</span><span class="nb">print</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span><span class="p">()</span>
 <span class="n">call</span><span class="o">-</span><span class="n">interactively</span><span class="p">(</span><span class="nb">eval</span><span class="o">-</span><span class="nb">print</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span> <span class="n">nil</span> <span class="n">nil</span><span class="p">)</span>
</pre></div>
</div>
<p>The variable <code class="docutils literal notranslate"><span class="pre">do_tell</span></code> has been created but its value is <em>void</em> and it cannot be used.</p>
<p>You give a symbol a value using the operators <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">setq</span></code>. <strong>These define global variables</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(set</span> <span class="pre">'do_tell</span> <span class="pre">'11)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p>
</dd>
</dl>
<p>If we now evaluate the <code class="docutils literal notranslate"><span class="pre">do_tell</span></code> it no longer throws an error:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">do_tell</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p>
</dd>
</dl>
<p>Notice that when the value of <code class="docutils literal notranslate"><span class="pre">do_tell</span></code> was set <code class="docutils literal notranslate"><span class="pre">do_tell</span></code> was quoted viz <code class="docutils literal notranslate"><span class="pre">'do_tell</span></code>.  The quoting says to Elisp “<em>don’t treat do_tell as a variable is a value to be passed to the operator set</em>”. The operator <code class="docutils literal notranslate"><span class="pre">setq</span></code> just <em>absorbs</em> that quote and lets you not quote the first parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(setq</span> <span class="pre">do_tell</span> <span class="pre">'22)</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">22</span></code></p>
</dd>
</dl>
<p>We can now use this variable in an expression:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(+</span> <span class="pre">do_tell</span> <span class="pre">33)</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">55</span></code></p>
</dd>
</dl>
<p>There is a variant on <code class="docutils literal notranslate"><span class="pre">set</span></code> and <code class="docutils literal notranslate"><span class="pre">setq</span></code> called <code class="docutils literal notranslate"><span class="pre">defvar</span></code> that defines a variable. It is different from them in that it only applies to uninitialised variables. If a variable is already defined it won’t overwrite it.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(defvar</span> <span class="pre">farmer_dell</span> <span class="pre">123)</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">farmer_dell</span></code></p>
</dd>
</dl>
<p>We can now see what <code class="docutils literal notranslate"><span class="pre">defvar</span></code> has done to the variable <code class="docutils literal notranslate"><span class="pre">farmer_dell</span></code> by evaluating that:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">farmer_dell</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">123</span></code></p>
</dd>
</dl>
<p>But if we <code class="docutils literal notranslate"><span class="pre">defvar</span></code> on <code class="docutils literal notranslate"><span class="pre">do_tell</span></code> it won’t take:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(defvar</span> <span class="pre">do_tell</span> <span class="pre">123)</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">do_tell</span></code></p>
</dd>
</dl>
<p>and now evaluate <code class="docutils literal notranslate"><span class="pre">do_tell</span></code>:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">do_tell</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">33</span></code></p>
</dd>
</dl>
<p>(This only works if you have used <code class="docutils literal notranslate"><span class="pre">set</span></code> or <code class="docutils literal notranslate"><span class="pre">setq</span></code> to define <code class="docutils literal notranslate"><span class="pre">do_tell</span></code> in the *scratch* buffer earlier in the same editing session).</p>
</div>
<div class="section" id="constant-variables-and-keyword-symbols">
<h2>Constant Variables And Keyword Symbols<a class="headerlink" href="#constant-variables-and-keyword-symbols" title="Permalink to this headline">¶</a></h2>
<p>Some symbols can’t be redefined. We have met a couple of them before <code class="docutils literal notranslate"><span class="pre">nil</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span></code>. Dy design all symbols which begin with <code class="docutils literal notranslate"><span class="pre">:</span></code> are also constant values.</p>
<p>If you try and set a symbol whose name starts with <code class="docutils literal notranslate"><span class="pre">:</span></code> you will get an error.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(setq</span> <span class="pre">:hotdog</span> <span class="pre">3)</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Debugger</span> <span class="pre">entered--Lisp</span> <span class="pre">error:</span> <span class="pre">(setting-constant</span> <span class="pre">:hotdog)</span> <span class="pre">...</span></code></p>
</dd>
</dl>
<p>An alternative name for a symbol which starts with <code class="docutils literal notranslate"><span class="pre">:</span></code> is a keyword symbol and these <em>constant variables</em> are commonly used as keywords in property lists.</p>
</div>
<div class="section" id="property-lists">
<h2>Property Lists<a class="headerlink" href="#property-lists" title="Permalink to this headline">¶</a></h2>
<p>Property lists are lists where each pair of concurrent values are regarded as a pair. The two values can be anything, but conventionally the first of them is a constant variable with a name beginning with <code class="docutils literal notranslate"><span class="pre">:</span></code>. Here is an example:</p>
<p><code class="docutils literal notranslate"><span class="pre">(:quality</span> <span class="pre">&quot;great&quot;</span> <span class="pre">:achievement</span> <span class="pre">&quot;impressive&quot;)</span></code></p>
<p>The relationship of property lists with symbols is a bit messy and is discussed in the <em>Extra Activities</em> section of this lesson.</p>
</div>
<div class="section" id="what-you-have-learned">
<h2>What You Have Learned<a class="headerlink" href="#what-you-have-learned" title="Permalink to this headline">¶</a></h2>
<p>You have learned how to set values of Symbols and then reuse those symbols in expressions.</p>
</div>
<div class="section" id="additional-reading">
<h2>Additional Reading<a class="headerlink" href="#additional-reading" title="Permalink to this headline">¶</a></h2>
<p>Symbols in Elisp are a bit more complex than symbols in other languages - there is a discussion of <a class="reference external" href="http://www.gnu.org/software/emacs/emacs-lisp-intro/elisp/Symbol-Components.html#Symbol-Components">Symbols</a> in the <em>Introduction To Emacs Lisp</em> manual.</p>
<p>You can read about <a class="reference external" href="http://www.gnu.org/software/emacs/elisp/html_node/Symbol-Plists.html#Symbol-Plists">Symbol Properties</a> in the <em>Emacs Lisp Reference</em> manual.</p>
</div>
<div class="section" id="extra-quoting-activities">
<h2>Extra Quoting Activities<a class="headerlink" href="#extra-quoting-activities" title="Permalink to this headline">¶</a></h2>
<p>If we fail to quote variables properly with the set operator will generate errors. Can you work out what they mean?</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">(set</span> <span class="pre">bleh</span> <span class="pre">'(1</span> <span class="pre">2</span> <span class="pre">3))</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">(set</span> <span class="pre">'bleh</span> <span class="pre">(1</span> <span class="pre">2</span> <span class="pre">3))</span></code></div>
</div>
</div>
<div class="section" id="extra-property-list-activity">
<h2>Extra Property List Activity<a class="headerlink" href="#extra-property-list-activity" title="Permalink to this headline">¶</a></h2>
<p>Property lists can be the <em>value</em> of a symbol and are associated with it by <code class="docutils literal notranslate"><span class="pre">setq</span></code>:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(setq</span> <span class="pre">hotdog</span> <span class="pre">'(:quality</span> <span class="pre">&quot;great&quot;</span> <span class="pre">:achievement</span> <span class="pre">&quot;impressive&quot;))</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">(:quality</span> <span class="pre">&quot;great&quot;</span> <span class="pre">:achievement</span> <span class="pre">&quot;impressive&quot;)</span></code></p>
</dd>
</dl>
<p>But the symbol can also have its own <em>plist</em> which is created by the special function <code class="docutils literal notranslate"><span class="pre">setplist</span></code>. (the symbol must already have been created.)</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(setplist</span> <span class="pre">'hotdog</span> <span class="pre">'(:rhubarb</span> <span class="pre">&quot;custard&quot;</span> <span class="pre">:status</span> <span class="pre">&quot;borked&quot;))</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">(:rhubarb</span> <span class="pre">&quot;custard&quot;</span> <span class="pre">:status</span> <span class="pre">&quot;borked&quot;)</span></code></p>
</dd>
</dl>
<p>However if we now evaluate the value of <code class="docutils literal notranslate"><span class="pre">hotdog</span></code> you will see that it is <code class="docutils literal notranslate"><span class="pre">(:quality</span> <span class="pre">&quot;great&quot;</span> <span class="pre">:achievement</span> <span class="pre">&quot;impressive&quot;)</span></code> as that is the <em>value</em> we set previously:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">hotdog</span></code></p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">(:quality</span> <span class="pre">&quot;great&quot;</span> <span class="pre">:achievement</span> <span class="pre">&quot;impressive&quot;)</span></code></p>
</dd>
</dl>
<p>What happens if you try and set the property list of an undefined symbol?</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Lesson 2-4 - Symbols And Variables</a><ul>
<li><a class="reference internal" href="#symbols-overview">Symbols Overview</a></li>
<li><a class="reference internal" href="#symbols-as-function-names">Symbols As Function Names</a></li>
<li><a class="reference internal" href="#symbols-as-variables">Symbols As Variables</a></li>
<li><a class="reference internal" href="#constant-variables-and-keyword-symbols">Constant Variables And Keyword Symbols</a></li>
<li><a class="reference internal" href="#property-lists">Property Lists</a></li>
<li><a class="reference internal" href="#what-you-have-learned">What You Have Learned</a></li>
<li><a class="reference internal" href="#additional-reading">Additional Reading</a></li>
<li><a class="reference internal" href="#extra-quoting-activities">Extra Quoting Activities</a></li>
<li><a class="reference internal" href="#extra-property-list-activity">Extra Property List Activity</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../lesson-2-3-lists-at-last/"
                          title="previous chapter">Lesson 2-3 - Lists (At Last)</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../lesson-2-5-arrays-and-sequences/"
                          title="next chapter">Lesson 2-5 - Arrays (And Sequences)</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../lesson-2-5-arrays-and-sequences/" title="Lesson 2-5 - Arrays (And Sequences)"
             >next</a> |</li>
        <li class="right" >
          <a href="../lesson-2-3-lists-at-last/" title="Lesson 2-3 - Lists (At Last)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Learn Elisp For Emacs (Draft In Progress)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Lesson 2-4 - Symbols And Variables</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010, Gordon Guthrie.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>