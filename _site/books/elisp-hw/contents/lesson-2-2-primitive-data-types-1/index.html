
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson 2-2 - Primitive Data Types (1) &#8212; Learn Elisp For Emacs (Draft In Progress)</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Lesson 2-3 - Lists (At Last)" href="../lesson-2-3-lists-at-last/" />
    <link rel="prev" title="Lesson 2-1 - First Elisp Programme" href="../lesson-2-1-first-elisp-programme/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../lesson-2-3-lists-at-last/" title="Lesson 2-3 - Lists (At Last)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../lesson-2-1-first-elisp-programme/" title="Lesson 2-1 - First Elisp Programme"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Learn Elisp For Emacs (Draft In Progress)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Lesson 2-2 - Primitive Data Types (1)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lesson-2-2-primitive-data-types-1">
<h1>Lesson 2-2 - Primitive Data Types (1)<a class="headerlink" href="#lesson-2-2-primitive-data-types-1" title="Permalink to this headline">¶</a></h1>
<p><strong>Prerequisite:</strong> This lesson presumes you know how to invoke Elisp expression as shown in Lesson 2-1.</p>
<div class="section" id="context">
<h2>Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h2>
<p>The previous lessons looked at performing basic arithmetic operations on various sorts of numbers.</p>
<p>This lessons will look at the other sorts of data types in Elisp. There are two different sorts of data types:</p>
<ul class="simple">
<li><p>primitive data types</p></li>
<li><p>non-primitive data types</p></li>
</ul>
<p>The difference between them is that non-primitive data types can be assembled from primitive ones.</p>
<p>The general set of primitive data types of Elisp are:</p>
<ul class="simple">
<li><p>integer</p></li>
<li><p>float</p></li>
<li><p>string</p></li>
<li><p>character</p></li>
<li><p>bool-vector</p></li>
<li><p>symbol</p></li>
<li><p>sequence</p></li>
<li><p>cons</p></li>
<li><p>array</p></li>
<li><p>vector</p></li>
<li><p>char-table</p></li>
<li><p>hash-table</p></li>
<li><p>function</p></li>
<li><p>primitive function (or subr)</p></li>
<li><p>macro</p></li>
<li><p>byte-code</p></li>
<li><p>auto-load</p></li>
</ul>
<p>These primitive data types largely correspond to the primitive data types of other Lisps.</p>
<p>In addition Elisp has a number of data types that are peculiar to it, because they pertain to the fact that Elisp is the scripting language of an editor. These data types are:</p>
<ul class="simple">
<li><p>buffer</p></li>
<li><p>marker</p></li>
<li><p>window</p></li>
<li><p>frame</p></li>
<li><p>terminal</p></li>
<li><p>window configuration</p></li>
<li><p>frame configuration</p></li>
<li><p>process</p></li>
<li><p>stream</p></li>
<li><p>keymap</p></li>
<li><p>overlay</p></li>
<li><p>font</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>don’t really understand types, primitive and otherwise…</p>
</div>
</div>
<div class="section" id="what-this-lesson-will-cover">
<h2>What This Lesson Will Cover<a class="headerlink" href="#what-this-lesson-will-cover" title="Permalink to this headline">¶</a></h2>
<p>This lesson will look at:</p>
<ul class="simple">
<li><p>the representation of boolean values</p></li>
<li><p>the integer and float data types which were introduced earlier</p></li>
<li><p>the string data type</p></li>
<li><p>testing for data types</p></li>
<li><p>casting between values</p></li>
</ul>
</div>
<div class="section" id="booleans">
<h2>Booleans<a class="headerlink" href="#booleans" title="Permalink to this headline">¶</a></h2>
<p>Booleans represent <em>true</em> and <em>false</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(=</span> <span class="pre">1</span> <span class="pre">1)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">t</span></code></p>
</dd>
</dl>
<p>This function tests for equality. The value <code class="docutils literal notranslate"><span class="pre">t</span></code> is a boolean (ie means <em>true</em>). This expression (which means <em>is 1 equal to 1</em>) is easy to switch to test for false.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(=</span> <span class="pre">1</span> <span class="pre">2)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">nil</span></code></p>
</dd>
</dl>
<p>The value <code class="docutils literal notranslate"><span class="pre">nil</span></code> is the second boolean it means <em>false</em>. The two values <code class="docutils literal notranslate"><span class="pre">t</span></code> and <code class="docutils literal notranslate"><span class="pre">nil</span></code> are <em>constant values</em> that always evaluate to themselves.</p>
<p>We can use the function <code class="docutils literal notranslate"><span class="pre">if</span></code> to investigate the boolean types. <code class="docutils literal notranslate"><span class="pre">if</span></code> takes three parameters, it is a standard ternary if function familiar from other langauges.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(if</span> <span class="pre">t</span> <span class="pre">&quot;it's</span> <span class="pre">true&quot;</span> <span class="pre">&quot;it's</span> <span class="pre">false&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;it's</span> <span class="pre">true&quot;</span></code></p>
</dd>
</dl>
<p>You can read the if expression like this <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">t</span></code> <em>is true then return</em> <code class="docutils literal notranslate"><span class="pre">&quot;it's</span> <span class="pre">true&quot;</span></code> <em>if it isn’t then return</em> <code class="docutils literal notranslate"><span class="pre">&quot;it's</span> <span class="pre">false&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(if</span> <span class="pre">nil</span> <span class="pre">&quot;it's</span> <span class="pre">true&quot;</span> <span class="pre">&quot;it's</span> <span class="pre">false&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;it's</span> <span class="pre">false&quot;</span></code></p>
</dd>
</dl>
<p>However booleans are not types. They are called <em>Constant Variables</em>.</p>
<p>Handling <em>true/false</em> is not so simple, however. Consider the following:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(if</span> <span class="pre">()</span> <span class="pre">&quot;it's</span> <span class="pre">true&quot;</span> <span class="pre">&quot;it's</span> <span class="pre">false&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;it's</span> <span class="pre">false&quot;</span></code></p>
</dd>
</dl>
<p>The empty list <code class="docutils literal notranslate"><span class="pre">()</span></code> is also a synomym for false. <code class="docutils literal notranslate"><span class="pre">if</span></code>, however, follows the convention that <em>that which is not false is true</em> as we can see from the following:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(if</span> <span class="pre">101</span> <span class="pre">&quot;it's</span> <span class="pre">true&quot;</span> <span class="pre">&quot;it's</span> <span class="pre">false&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;it's</span> <span class="pre">true&quot;</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="strings">
<h2>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<p>We have seen string data types being used in the previous tests - strings are represented by characters between double quotes.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(concat</span> <span class="pre">&quot;ab&quot;</span> <span class="pre">&quot;cd&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;abcd&quot;</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">concat</span></code> is just a string concatenation function. The strings can include single quotes and escaped double quotes.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(concat</span> <span class="pre">&quot;a`b&quot;</span> <span class="pre">&quot;c\&quot;d&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;a'bc\&quot;d&quot;</span></code></p>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">concat</span></code> operator can have a indefinite number of arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(concat</span> <span class="pre">&quot;ab&quot;</span> <span class="pre">&quot;cd&quot;</span> <span class="pre">&quot;ef&quot;</span> <span class="pre">&quot;12&quot;</span> <span class="pre">&quot;34&quot;</span> <span class="pre">&quot;45&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;abcdef123445&quot;</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="predicate-functions-testing-the-types-of-vaules">
<h2>Predicate Functions - Testing The Types Of Vaules<a class="headerlink" href="#predicate-functions-testing-the-types-of-vaules" title="Permalink to this headline">¶</a></h2>
<p>There are a whole class of functions that tests data types - the so-called <em>predicates</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(integerp</span> <span class="pre">11)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">t</span></code></p>
</dd>
</dl>
<p>This predicate function (like most predicate functions) can be recognised by the fact that it ends in p</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(integerp</span> <span class="pre">(+</span> <span class="pre">1</span> <span class="pre">2.0))</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">nil</span></code></p>
</dd>
</dl>
<p>We see from this example that data types cast automatically. The sum of an integer and a float is a float - and the predicate therefore fails.</p>
<p>Certain functions expect certain types - for instance <code class="docutils literal notranslate"><span class="pre">+</span></code> expects numbers as it parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(+</span> <span class="pre">1</span> <span class="pre">&quot;two&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p>The function throws an error and dumps you into the debugger.</p>
</dd>
</dl>
<p>This is in a window called *backtrace*. It is worth looking at the output in some detail.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Debugger</span> <span class="n">entered</span><span class="o">--</span><span class="n">Lisp</span> <span class="n">error</span><span class="p">:</span> <span class="p">(</span><span class="n">wrong</span><span class="o">-</span><span class="nb">type</span><span class="o">-</span><span class="n">argument</span> <span class="n">number</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">marker</span><span class="o">-</span><span class="n">p</span> <span class="s2">&quot;two&quot;</span><span class="p">)</span>
 <span class="o">+</span><span class="p">(</span><span class="mi">1</span> <span class="s2">&quot;two&quot;</span><span class="p">)</span>
 <span class="nb">eval</span><span class="p">((</span><span class="o">+</span> <span class="mi">1</span> <span class="s2">&quot;two&quot;</span><span class="p">))</span>
 <span class="nb">eval</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span><span class="o">-</span><span class="mi">1</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
 <span class="nb">eval</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
 <span class="nb">eval</span><span class="o">-</span><span class="nb">print</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span><span class="p">()</span>
 <span class="n">call</span><span class="o">-</span><span class="n">interactively</span><span class="p">(</span><span class="nb">eval</span><span class="o">-</span><span class="nb">print</span><span class="o">-</span><span class="n">last</span><span class="o">-</span><span class="n">sexp</span> <span class="n">nil</span> <span class="n">nil</span><span class="p">)</span>
</pre></div>
</div>
<p>The first line of this give us some details of the problem, it is a Lisp error - the predicate function <code class="docutils literal notranslate"><span class="pre">number-or-marker-p</span></code> on the parameter <code class="docutils literal notranslate"><span class="pre">two</span></code> threw a <code class="docutils literal notranslate"><span class="pre">wrong-type-argument</span></code> error. We will look at the debugger later on in the book. If you go back to the list of Emacs specific types you will see that there is one called marker. The operator <code class="docutils literal notranslate"><span class="pre">+</span></code> can operate on numbers or markers and so it uses this special predicate function to test the arguments before running the function.</p>
</div>
<div class="section" id="converting-between-data-types">
<h2>Converting Between Data Types<a class="headerlink" href="#converting-between-data-types" title="Permalink to this headline">¶</a></h2>
<p>Sometimes Elisp converts between data types. Consider mixed arithmetic with integers and floating point numbers:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(+</span> <span class="pre">1</span> <span class="pre">2.5)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">3.5</span></code></p>
</dd>
</dl>
<p>The integer value of <code class="docutils literal notranslate"><span class="pre">1</span></code> has been <em>cast</em> to a floating point number.</p>
<p>You can force this casting with functions:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(float</span> <span class="pre">1)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1.0</span></code></p>
</dd>
</dl>
<p>You can turns numbers into string:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(number-to-string</span> <span class="pre">1234)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&quot;1234&quot;</span></code></p>
</dd>
</dl>
<p>You can also cast strings which contain the numerical characters into numbers:</p>
<dl class="field-list simple">
<dt class="field-odd">You Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(string-to-number</span> <span class="pre">&quot;1234&quot;)</span></code></p>
</dd>
<dt class="field-even">Result</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1234</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="what-you-have-learned">
<h2>What You Have Learned<a class="headerlink" href="#what-you-have-learned" title="Permalink to this headline">¶</a></h2>
<p>We have seen the list of primitive and composite data types and have looked at a couple of the most common of them in some detail. We have seen how to test what data type an object it, and how to cast one data type to another.</p>
</div>
<div class="section" id="additional-reading">
<h2>Additional Reading<a class="headerlink" href="#additional-reading" title="Permalink to this headline">¶</a></h2>
<p>There is a section on data types in the <a class="reference external" href="http://www.gnu.org/software/emacs/emacs-lisp-intro/elisp/Lisp-Data-Types.html#Lisp-Data-Types">GNU Emacs Lisp Reference Manual</a>.</p>
</div>
<div class="section" id="extra-activities">
<h2>Extra Activities<a class="headerlink" href="#extra-activities" title="Permalink to this headline">¶</a></h2>
<p>List gets its name from LIS(t) P(rocessing) - and yet lists don’t appear as a primitive data types. From the additional reading can you work out why?</p>
<p>What do the following predicate functions do:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">floatp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numberp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zerop</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wholenump</span></code></p></li>
</ul>
<p>What do the following functions do:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">truncate</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ceiling</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floor</span></code></p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Lesson 2-2 - Primitive Data Types (1)</a><ul>
<li><a class="reference internal" href="#context">Context</a></li>
<li><a class="reference internal" href="#what-this-lesson-will-cover">What This Lesson Will Cover</a></li>
<li><a class="reference internal" href="#booleans">Booleans</a></li>
<li><a class="reference internal" href="#strings">Strings</a></li>
<li><a class="reference internal" href="#predicate-functions-testing-the-types-of-vaules">Predicate Functions - Testing The Types Of Vaules</a></li>
<li><a class="reference internal" href="#converting-between-data-types">Converting Between Data Types</a></li>
<li><a class="reference internal" href="#what-you-have-learned">What You Have Learned</a></li>
<li><a class="reference internal" href="#additional-reading">Additional Reading</a></li>
<li><a class="reference internal" href="#extra-activities">Extra Activities</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../lesson-2-1-first-elisp-programme/"
                          title="previous chapter">Lesson 2-1 - First Elisp Programme</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../lesson-2-3-lists-at-last/"
                          title="next chapter">Lesson 2-3 - Lists (At Last)</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../lesson-2-3-lists-at-last/" title="Lesson 2-3 - Lists (At Last)"
             >next</a> |</li>
        <li class="right" >
          <a href="../lesson-2-1-first-elisp-programme/" title="Lesson 2-1 - First Elisp Programme"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Learn Elisp For Emacs (Draft In Progress)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Lesson 2-2 - Primitive Data Types (1)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010, Gordon Guthrie.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>